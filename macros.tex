\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\norm{\lVert}{\rVert}
\DeclarePairedDelimiter\ip{\langle}{\rangle}

\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\cond}{cond}
\DeclareMathOperator{\Span}{span}
\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator{\spectrum}{spectrum}
\DeclareMathOperator*{\trace}{tr}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

\renewcommand{\d}{\mathrm d}
\renewcommand{\t}{T}
\newcommand{\e}{\mathrm e}
\newcommand{\D}{\mathrm D}
\newcommand{\real}{\mathbf R}
\newcommand{\poly}{\mathbf P}
\newcommand{\complex}{\mathbf C}
\newcommand{\nat}{\mathbf N}
\newcommand{\integer}{\mathbf Z}
\newcommand{\floating}{\mathbf F}
\newcommand{\madd}{\mathbin{\widehat +}}
\newcommand{\mtimes}{\mathbin{\widehat *}}
\newcommand{\msub}{\mathbin{\widehat -}}
\newcommand{\vect}[1]{\mathbf{\boldsymbol{#1}}}
\newcommand{\mat}{\mathsf}
\newcommand{\placeholder}{\mathord{\color{black!33}\bullet}}%
\newcommand{\moreinfo}{\texorpdfstring{{\normalfont \color{lightred}$^{\text{\faSearchPlus}}$}}{}}
\newcommand{\laplacian}{\triangle}
\newcommand{\julia}[1]{\mintinline{julia}{#1}}

% \makeatletter
% \DeclareDocumentCommand \derivative{s m o m}{%
%     \def\@der{\IfBooleanTF{#1}{\mathrm{d}}{\partial}}
%     \def\@default{%
%         \mathchoice{%
%                 \frac{%
%                     \@der\ifnum\pdfstrcmp{#2}{1}=0\else^{#2}\fi {\IfNoValueTF{#3}{}{#3}}
%                 }{%
%                     \@for\@token:={#4}\do{\@der \@token}
%                 }
%             } {%
%                 \@for\@token:={#4}\do{\@der_{\@token}\ifnum\pdfstrcmp{#2}{1}=0\else^{#2}\fi} \IfNoValueTF{#3}{}{#3}
%             } {} {}
%     }
%     \IfBooleanTF{#1}{\IfNoValueTF{#3}{\@default}{%
%                 #3%
%                 \ifnum\pdfstrcmp{#2}{1}=0'\else%
%                 \ifnum\pdfstrcmp{#2}{2}=0''\else%
%                 \ifnum\pdfstrcmp{#2}{3}=0'''\else%
%                 \ifnum\pdfstrcmp{#2}{4}=0^{(iv)}\else^{(#2)}\fi\fi\fi\fi
%             }
%         }{\@default}
% }
% \makeatother
